<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Détails du Membre - CalyClub</title>
    
    <!-- DEPLOYMENT VERIFICATION -->
    <script src="deployment-timestamp.js"></script>
    
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="membre-detail.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Détails du Membre</h1>
            <div class="header-buttons">
                <button data-href="membres.html" class="btn">
                    <i class="fas fa-arrow-left"></i> Retour
                </button>
                <button data-href="index.html" class="btn">
                    <i class="fas fa-home"></i> Accueil
                </button>
                <button id="headerLogoutBtn" class="btn btn-logout" style="display: none;">
                    <i class="fas fa-sign-out-alt"></i> Déconnexion
                </button>
            </div>
        </header>

        <div class="member-details">
            <!-- Header avec avatar et nom -->
            <div class="member-header">
                <div class="avatar-container">
                    <img id="memberAvatar" src="/avatars/default-avatar.svg" alt="Avatar du membre" class="member-avatar">
                    <div class="avatar-overlay">
                        <button class="upload-button">
                            <i class="fas fa-camera"></i>
                        </button>
                        <input type="file" id="avatarUpload" accept="image/*" style="display: none;">
                        <button id="removeAvatarButton" class="remove-button">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                <div class="member-title">
                    <h2 id="memberTitle">Chargement...</h2>
                </div>
            </div>

            <!-- Cartes d'informations simplifiées -->
            <div class="info-cards">
                <!-- Carte Informations Personnelles -->
                <div class="info-card">
                    <div class="card-header">
                        <i class="fas fa-user"></i>
                        <h3>Informations Personnelles</h3>
                    </div>
                    <div class="card-content">
                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-id-card"></i>
                            </div>
                            <div class="info-details">
                                <label>Lifras ID</label>
                                <span id="lifrasID">-</span>
                            </div>
                        </div>
                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="info-details">
                                <label>Nom</label>
                                <span id="nom">-</span>
                            </div>
                        </div>
                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-user-tag"></i>
                            </div>
                            <div class="info-details">
                                <label>Prénom</label>
                                <span id="prenom">-</span>
                            </div>
                        </div>
                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-certificate"></i>
                            </div>
                            <div class="info-details">
                                <label>Licence FD</label>
                                <span id="licenceFD">-</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Carte Informations Médicales -->
                <div class="info-card">
                    <div class="card-header">
                        <i class="fas fa-heartbeat"></i>
                        <h3>Informations Médicales</h3>
                    </div>
                    <div class="card-content">
                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-clipboard-check"></i>
                            </div>
                            <div class="info-details">
                                <label>Statut Médical</label>
                                <span id="medical" class="medical-status">-</span>
                            </div>
                        </div>
                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-calendar-plus"></i>
                            </div>
                            <div class="info-details">
                                <label>Date Certificat Médical</label>
                                <span id="dateCertificatMedical">-</span>
                            </div>
                        </div>
                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-calendar-check"></i>
                            </div>
                            <div class="info-details">
                                <label>Validité Certificat Médical</label>
                                <span id="validiteCertificatMedical">-</span>
                            </div>
                        </div>
                        <div class="info-item">
                            <div class="info-icon">
                                <i class="fas fa-phone-alt"></i>
                            </div>
                            <div class="info-details">
                                <label>Contact Urgence (ICE)</label>
                                <span id="ice">-</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- CRITICAL: Firebase Config (MUST load first) -->
    <script src="firebase-config.js"></script>
    <!-- CRITICAL: Page Protection (loads after config) -->
    <script src="page-protection.js"></script>
    <!-- Firebase App (the core Firebase SDK) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-analytics.js"></script>

    <!-- Firebase initialization -->
    <script src="firebase-app.js"></script>
    
    <!-- System Configuration -->
    <script src="system-config.js"></script>
    
    <!-- Avatar Utilities (MUST load before other scripts) -->
    <script src="avatar-utils.js"></script>
    
    <!-- Member Permissions -->
    <script src="member-permissions.js"></script>

    <!-- Authentication Guard -->
    <!-- DISABLED: auth-guard.js conflicts with page-protection.js -->
    <!-- <script src="auth-guard.js"></script> -->

    <!-- Application scripts -->
    <script src="membre-detail.js"></script>
</body>
</html> 